"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[2443],{936(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>d,frontMatter:()=>c,metadata:()=>a,toc:()=>p});const a=JSON.parse('{"id":"architecture","title":"Architecture","description":"The build and deployment of thb-cc/app is handled by the deploy workflow using GitHub actions.","source":"@site/docs/architecture.md","sourceDirName":".","slug":"/architecture","permalink":"/app/docs/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/thb-cc/app/tree/main/website/docs/architecture.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Application","permalink":"/app/docs/application"},"next":{"title":"Documentation","permalink":"/app/docs/documentation"}}');var r=t(4848),i=t(8453);const c={},s="Architecture",o={},p=[];function h(e){const n={a:"a",code:"code",h1:"h1",header:"header",mermaid:"mermaid",p:"p",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"architecture",children:"Architecture"})}),"\n",(0,r.jsxs)(n.p,{children:["The build and deployment of ",(0,r.jsx)(n.code,{children:"thb-cc/app"})," is handled by the ",(0,r.jsx)(n.a,{href:"https://github.com/thb-cc/app/blob/main/.github/workflows/deploy.yaml",children:"deploy"})," workflow using GitHub actions."]}),"\n",(0,r.jsxs)(n.p,{children:["The infrastructure is based on ",(0,r.jsx)(n.a,{href:"https://aws.amazon.com/",children:"Amazon AWS"})," and managed via ",(0,r.jsx)(n.a,{href:"https://developer.hashicorp.com/terraform",children:"Terraform"})," using our ",(0,r.jsx)(n.a,{href:"https://github.com/thb-cc/app/blob/main/main.tf",children:"main.tf"})," file.\nThe Terraform state is maintained by manually/locally executing commands, since our AWS access is based on ",(0,r.jsx)(n.a,{href:"https://aws.amazon.com/training/awsacademy/",children:"AWS Academy"})," and thus the credentials change every lab session.\nState consistency is achieved by storing the ",(0,r.jsx)(n.a,{href:"https://github.com/thb-cc/app/blob/main/.terraform.lock.hcl",children:".terraform.lock.hcl"})," file."]}),"\n",(0,r.jsx)(n.p,{children:"A private subnet is prepared for future use but is not actively utilized yet."}),"\n",(0,r.jsx)(n.mermaid,{value:'graph TD;\n  repo["GitHub</br>thb-cc/app"]\n\n  subgraph aws["AWS VPC"]\n    s3["S3"]\n    dynamo["DynamoDB"]\n    subgraph public["Public Subnet"]\n      subgraph ec2["EC2 Instance"]\n        certbot\n        Cosign\n        subgraph docker["Docker"]\n          app["Application"]\n        end\n      end\n    end\n    subgraph private["Private Subnet"]\n      null["..."]\n    end\n    igw["Internet Gateway"]\n    igw --Access--\x3e app\n  end\n\n  dev["Developer"]\n  user["User"]\n\n  dev --\x3e repo\n  user --HTTPS--\x3e igw\n\n  repo --Push & Sign Image--\x3e dhub["DockerHub</br>fdalitz/app"]\n  repo --Terraform--\x3e aws\n  repo --Deploy--\x3e app\n  certbot --Certifies--\x3e app\n  Cosign --Verify--\x3e app\n  app --Object Storage--\x3e s3\n  app --Quote Storage--\x3e dynamo\n  app --Pull Image--\x3e dhub'})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);