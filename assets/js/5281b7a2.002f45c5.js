"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[2443],{936(e,a,n){n.r(a),n.d(a,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"architecture","title":"Architecture","description":"The build and deployment of thb-cc/app is handled by the deploy workflow using GitHub actions.","source":"@site/docs/architecture.md","sourceDirName":".","slug":"/architecture","permalink":"/app/docs/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/thb-cc/app/tree/main/website/docs/architecture.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Application","permalink":"/app/docs/application"},"next":{"title":"Documentation","permalink":"/app/docs/documentation"}}');var r=n(4848),i=n(8453);const c={},s="Architecture",o={},p=[];function d(e){const a={a:"a",code:"code",h1:"h1",header:"header",mermaid:"mermaid",p:"p",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.header,{children:(0,r.jsx)(a.h1,{id:"architecture",children:"Architecture"})}),"\n",(0,r.jsxs)(a.p,{children:["The build and deployment of ",(0,r.jsx)(a.code,{children:"thb-cc/app"})," is handled by the ",(0,r.jsx)(a.a,{href:"https://github.com/thb-cc/app/blob/main/.github/workflows/deploy.yaml",children:"deploy"})," workflow using GitHub actions."]}),"\n",(0,r.jsxs)(a.p,{children:["The infrastructure is based on ",(0,r.jsx)(a.a,{href:"https://aws.amazon.com/",children:"Amazon AWS"})," and managed via ",(0,r.jsx)(a.a,{href:"https://developer.hashicorp.com/terraform",children:"Terraform"})," using our ",(0,r.jsx)(a.a,{href:"https://github.com/thb-cc/app/blob/main/main.tf",children:"main.tf"})," file.\nThe Terraform state is maintained by manually/locally executing commands, since our AWS access is based on ",(0,r.jsx)(a.a,{href:"https://aws.amazon.com/training/awsacademy/",children:"AWS Academy"})," and thus the credentials change every lab session."]}),"\n",(0,r.jsx)(a.mermaid,{value:'graph TD;\n  repo["GitHub</br>thb-cc/app"]\n\n  subgraph aws["AWS VPC"]\n    s3["S3 Bucket + Endpoint"]\n    subgraph public["Public Subnet"]\n      subgraph ec2["EC2 Instance"]\n        subgraph docker["Docker"]\n          app["Application"]\n        end\n      end\n    end\n    subgraph private["Private Subnet"]\n      null["..."]\n    end\n    igw["Internet Gateway"]\n    igw --\x3e public\n  end\n\n  dev["Developer"]\n  user["User"]\n\n  repo --Push Image--\x3e dhub["DockerHub</br>fdalitz/app"]\n  repo --Terraform--\x3e aws\n  repo --"Deploy via SSH to"--\x3e ec2\n  app --Pull Image--\x3e dhub\n  app --Object Storage--\x3e s3\n  user --\x3e igw\n  dev --\x3e repo'})]})}function h(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);